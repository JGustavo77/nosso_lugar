<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Nossa Linha do Tempo üì∏</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/estilo.css') }}">
</head>
<body>

  <h1>Nossa Hist√≥ria üíñ</h1>

  <audio controls autoplay loop>
    <source src="{{ url_for('static', filename='music/musica_galeria.mp3') }}" type="audio/mpeg">
    Seu navegador n√£o suporta o elemento de √°udio.
  </audio>

  <div id="mes-indicador">üìÖ Junho</div>

  <div class="linha-do-tempo">
    {% set poemas = {
      "Junho": "Foi em Junho que tudo floresceu... ‚ú®",
      "Julho": "Em Julho, o amor s√≥ cresceu.",
      "Agosto": "Agosto chegou com risos e calor.",
      "Setembro": "Setembro nos trouxe sonhos e abra√ßos.",
      "Outubro": "Outubro dan√ßou com nossos cora√ß√µes.",
      "Novembro": "Novembro teve cheiro de eternidade.",
      "Dezembro": "Em Dezembro, o tempo parecia parar.",
      "Janeiro": "Janeiro come√ßou com juras sinceras.",
      "Fevereiro": "Fevereiro foi beijo, riso e ver√£o.",
      "Mar√ßo": "Mar√ßo nos uniu mais do que nunca.",
      "Abril": "Abril trouxe paz no olhar.",
      "Maio": "Maio floresceu nosso sentir."
    } %}

    {% for mes in ["Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro", "Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio"] %}
    <div class="mes{% if loop.first %} ativo{% endif %}">
      <h2>{{ mes }}</h2>
      <div class="galeria">
        <a href="#modal{{ loop.index0 * 2 + 1 }}"><img src="{{ url_for('static', filename='img/' + mes|lower + '1.jpg') }}" alt="{{ mes }} 1"></a>
        <a href="#modal{{ loop.index0 * 2 + 2 }}"><img src="{{ url_for('static', filename='img/' + mes|lower + '2.jpg') }}" alt="{{ mes }} 2"></a>
      </div>
      <div class="poema">{{ poemas[mes] }}</div>
    </div>
    {% endfor %}
  </div>

  <div class="navegacao">
    <button onclick="mudarMes(-1)">‚¨ÖÔ∏è M√™s anterior</button>
    <button onclick="mudarMes(1)">Pr√≥ximo m√™s ‚û°Ô∏è</button>
  </div>

  <a href="/" class="botao-amor">Voltar para o come√ßo üè†</a>

  <!-- Modais de todas as imagens -->
  {% for mes in ["Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro", "Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio"] %}
    <div id="modal{{ loop.index0 * 2 + 1 }}" class="modal">
      <span class="fechar-modal" onclick="location.hash=''">&times;</span>
      <img class="modal-content" src="{{ url_for('static', filename='img/' + mes|lower + '1.jpg') }}">
    </div>
    <div id="modal{{ loop.index0 * 2 + 2 }}" class="modal">
      <span class="fechar-modal" onclick="location.hash=''">&times;</span>
      <img class="modal-content" src="{{ url_for('static', filename='img/' + mes|lower + '2.jpg') }}">
    </div>
  {% endfor %}

  <!-- Cora√ß√µes flutuando -->
  <script>
    for (let i = 0; i < 20; i++) {
      const coracao = document.createElement("div");
      coracao.className = "coracao";
      coracao.style.left = Math.random() * 100 + "vw";
      coracao.style.animationDuration = (4 + Math.random() * 4) + "s";
      document.body.appendChild(coracao);
    }
  </script>

  <script>
    let indiceMes = 0;
    const meses = document.querySelectorAll('.mes');
    const nomesMeses = ["Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro", "Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio"];

    function mostrarMes(indice) {
      meses.forEach(m => m.classList.remove('ativo'));
      meses[indice].classList.add('ativo');
      const indicador = document.getElementById("mes-indicador");
      if (indicador) indicador.textContent = `üìÖ ${nomesMeses[indice]}`;
    }

    function mudarMes(direcao) {
      indiceMes += direcao;
      if (indiceMes < 0) indiceMes = meses.length - 1;
      if (indiceMes >= meses.length) indiceMes = 0;
      mostrarMes(indiceMes);
    }

    document.addEventListener("DOMContentLoaded", function () {
      mostrarMes(indiceMes);
    });
  </script>

</body>
</html>
